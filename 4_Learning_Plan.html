<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friendly Task List</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-green-50 flex items-center justify-center min-h-screen p-4">

    <div class="bg-white rounded-3xl shadow-md px-6 py-6 h-[400px] w-full max-w-md text-lg font-semibold overflow-x-hidden overflow-y-auto flex-1 [&::-webkit-scrollbar]:hidden scrollbar-none">
        <h3 class="text-xl max-[768px]:text-lg font-bold mb-6 text-center text-green-700">Daily Quests</h3>
        <div class="flex mb-4">
            <input id="task-input" type="text" placeholder="Add a new quest" 
                class="flex-1 p-2 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-green-400 border border-green-200">
            <button id="add-btn" class="bg-green-500 text-white px-4 rounded-r-lg hover:bg-green-600 transition">Add</button>
        </div>
        <div id="task-list" class="flex flex-col space-y-4 overflow-hidden"></div>
    </div>

    <script>
        const taskInput = document.getElementById('task-input');
        const addBtn = document.getElementById('add-btn');
        const taskList = document.getElementById('task-list');

        function createQuest(taskText) {
            const colors = ["#58CC02", "#FF9500", "#1CB0F6", "#FF3B30"]; // Example colors
            const color = colors[Math.floor(Math.random() * colors.length)];

            // Task container
            const quest = document.createElement('div');
            quest.className = "grid grid-cols-4 items-center bg-gray-100 rounded-2xl px-4 py-2 overflow-hidden";

            // Left: text + progress
            const left = document.createElement('div');
            left.className = "flex flex-col col-span-3 overflow-hidden";

            const title = document.createElement('span');
            title.textContent = taskText;
            title.className = "font-semibold text-gray-800 truncate";

            // Progress bar wrapper
            const progressWrapper = document.createElement('div');
            progressWrapper.className = "relative w-full bg-gray-300 rounded-full h-5 mt-2 overflow-hidden";

            // Progress fill
            const progressFill = document.createElement('div');
            progressFill.className = "absolute left-0 top-0 h-full";
            progressFill.style.width = "0%";
            progressFill.style.backgroundColor = color;
            progressFill.style.transition = "width 0.3s";

            // Progress text
            const progressText = document.createElement('span');
            progressText.className = "absolute inset-0 flex items-center justify-center text-xs font-bold text-white";
            progressText.textContent = "0 / 1";

            progressWrapper.appendChild(progressFill);
            progressWrapper.appendChild(progressText);

            left.appendChild(title);
            left.appendChild(progressWrapper);

            // Right: buttons
            const right = document.createElement('div');
            right.className = "flex items-center justify-center space-x-2";

            // Complete button
            const completeBtn = document.createElement('button');
            completeBtn.textContent = "âœ”";
            completeBtn.className = "bg-green-500 hover:bg-green-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold";
            completeBtn.addEventListener('click', () => {
                let current = parseInt(progressText.textContent.split(" / ")[0]);
                const max = parseInt(progressText.textContent.split(" / ")[1]);
                if(current < max){
                    current += 1;
                    const percentage = (current / max) * 100;
                    progressFill.style.width = percentage + "%";
                    progressText.textContent = `${current} / ${max}`;
                }
            });

            // Delete button
            const deleteBtn = document.createElement('button');
            deleteBtn.textContent = "ðŸ—‘";
            deleteBtn.className = "bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold";
            deleteBtn.addEventListener('click', () => {
                taskList.removeChild(quest);
            });

            right.appendChild(completeBtn);
            right.appendChild(deleteBtn);

            quest.appendChild(left);
            quest.appendChild(right);

            return quest;
        }

        addBtn.addEventListener('click', () => {
            const taskText = taskInput.value.trim();
            if(taskText){
                const quest = createQuest(taskText);
                taskList.appendChild(quest);
                taskInput.value = '';
            }
        });

        taskInput.addEventListener('keypress', (e) => {
            if(e.key === 'Enter') addBtn.click();
        });
    </script>

</body>
</html>
